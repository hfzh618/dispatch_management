@layout("/common/_form.html",{plugins:["ztree"],js:["/assets/modular/system/train/train_add.js"]}){

<form class="layui-form" id="noticeForm" lay-filter="noticeForm">
    <div class="layui-fluid" style="padding-bottom: 75px;">
        <div class="layui-card">
            <div class="layui-card-header">基本信息</div>
            <div class="layui-card-body">
                <div class="layui-form-item layui-row">
                    <input name="roleId" type="hidden"/>

                    <div class="layui-inline layui-col-md12">
                        <label class="layui-form-label">班列id<span style="color: red;">*</span></label>
                        <div class="layui-input-block">
                            <input name="trainId" placeholder="请输入班列id" type="text" class="layui-input" lay-verify="required" required/>
                        </div>
                    </div>

                    <div class="layui-inline layui-col-md12">
                        <label class="layui-form-label">班列名称<span style="color: red;">*</span></label>
                        <div class="layui-input-block">
                            <input name="trainName" placeholder="请输入班列名称" type="text" class="layui-input" lay-verify="required" required/>
                        </div>
                    </div>
                    <div class="layui-inline layui-col-md12">
                        <label class="layui-form-label">班列类型<span style="color: red;">*</span></label>
                        <div class="layui-input-block">
                            <input name="trainType" placeholder="请输入班列类型" class="layui-input"></input>
                        </div>
                    </div>
                    <div class="layui-inline layui-col-md12">
                        <label class="layui-form-label">班列状态<span style="color: red;">*</span></label>
                        <div class="layui-input-block">
                            <input name="trainStatus" placeholder="请输入班列状态" class="layui-input"></input>
                        </div>
                    </div>
                    <div class="layui-inline layui-col-md12">
                        <label class="layui-form-label">停靠点<span style="color: red;">*</span></label>
                        <div class="layui-input-block">
                            <select multiple name="trainStops" lay-verify="" lay-search id="trainStops">
                                <option value="">请选择停靠点</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="form-group-bottom text-center">
        <button class="layui-btn" lay-filter="btnSubmit" lay-submit>&emsp;提交&emsp;</button>
        <button type="reset" class="layui-btn layui-btn-primary" ew-event="closeDialog">&emsp;取消&emsp;</button>
    </div>
</form>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="https://cdn.staticfile.org/axios/0.18.0/axios.min.js"></script>
<script src="https://cdn.bootcss.com/jquery/3.5.0/jquery.min.js"></script>
<script>
    $(document).ready(function(){
        const xmlHttp = new XMLHttpRequest();
        var URL = "http://10.120.11.235:5303/market/";
        // var URL = "http://10.120.11.114:5303/market/";
        xmlHttp.open( "GET", URL, false );
        xmlHttp.send( null );
        const marketinfo = JSON.parse(xmlHttp.responseText);
        const codes = marketinfo.code;
        const names = marketinfo.name;
        for (var i = 0; i < codes.length; i++) {
            var option = document.createElement("option");
            $(option).val(codes[i]+':'+names[i]);
            $(option).text(names[i]);
            $('#trainStops').append(option);
        }
    });
</script>

@}
